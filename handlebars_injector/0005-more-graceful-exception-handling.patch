From fe94b4993bd0a17d2ef50d3dbb39bc5b7deb86f1 Mon Sep 17 00:00:00 2001
From: Benjamin Kampmann <ben.kampmann@gmail.com>
Date: Tue, 20 May 2014 11:38:31 +0200
Subject: [PATCH 5/6] more graceful exception handling

---
 app/assets/javascripts/ember-handlebars-injector.js | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/app/assets/javascripts/ember-handlebars-injector.js b/app/assets/javascripts/ember-handlebars-injector.js
index b98fcf9..36d5d21 100644
--- a/app/assets/javascripts/ember-handlebars-injector.js
+++ b/app/assets/javascripts/ember-handlebars-injector.js
@@ -150,7 +150,11 @@
                     target_statements = target[1];
                     pos = target[2] + 1 + shift;
                 } else {
-                    throw "Sorry can't find " + pos + "in" + ast;
+                    if (options && options.throw_exc){
+                        throw "Sorry, position " + pos + " not found";
+                    }
+                    console && console.error("Sorry, can't find " + pos, ast);
+                    return;
                 }
             }
             for (var idx=0; idx < tmpl.statements.length; idx++){
-- 
1.8.3.4 (Apple Git-47)

